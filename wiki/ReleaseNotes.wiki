#summary eBattles Release Notes.

= Release 0.4.147 =
== Features ==
 * Changed default image size for recent activity menu from 8 to 16 px
== Bug fixes ==
 * Fixed Avatars not showing in Event Player Standings.
  * Was broken since revision 144.
  * Fix: added global access to $pref in updateStats()
 * Fixed issue in Event stats recalculation.
  * On servers where flush() does not work, the calculation may timeout if the number of matches is great.
  * Split recalculation into batches of 10 matches to avoid timeouts.
 * Improved handling of textareas in forms. (Fixes issue 9 and issue 58)
  * There were several issues with textareas:
   * line breaks were not saved to database
   * input containing quotes may cause an error when saving data.
   * data was not properly filtered before it was saved to database, or displayed as HTML.
   * no support for BBcode.
  * Now we use the e107 functions to handle textareas.

= Release 0.4.144 =
== Features ==
 * Added an Event Stats re-calculation" in Event Manage page (Fixes issue 54)
  * This function resets players stats and awards and re-compute all stats match by match.
  * This function is helpful if the players data needs to be recalculated.
 * Added "Images max size" admin preference for "Recent Activity" menu. (Fixes issue 48)
 * For matches/awards lists, use left aligned tables, with 1 row per item.
 * Use more single quotes to output HTML text. (Issue 20)
 * Match report, prevent players of the same team to play against each other. (Fixes issue 4)
 * Added awards list in Players profiles (userinfo). (Fixes issue 16)
== Bug fixes ==
 * Fixed bug in Trueskill calculation (Fixes issue 55)
  * Problem: (reported by planettoon) The calculation of scores can be erroneous, with wrong ELO and Trueskill.
  * Cause: the erf (Gauss error function) approximation was not accurate enough
   * That lead to a negative value as the input of a square root.
   * That will interrupt the TS and scores calculation.
  * Fix: Use Rational Chebyshev Approximations for the Error Function.
 * Time/date was not handled properly (Fixes issue 56)

= Release 0.4.135 =
== Features ==
 * Added support for Matches comments using e107 comments system.
  * Show a link to matches comments in all matches lists.
  * Added support for eBattles matches comments display in user info and list_new plugin comments lists.
 * Improved Games management page.
  * Now, admin is presented with the paginated list of all the games.
  * From there, he can add/delect/update/edit one, all or selected games.
 * Added Admin configuration for eBattles links menu and Recent Activity menu.
  * eBattles links preference: Menu Heading
  * Recent Activity preferences: Menu Heading and number of items to be shown.
 * Added eBattles 32x32 icon.
 * Added poker and chess to the games list.
 * Changed time display in all matches lists.
== Bug fixes ==
 * Fixed vertical alignment issue in pagination items with Internet Explorer.

= Release 0.4.130 =
== Features ==
 * In Recent Activity menu, limit the number of recent events to show.
== Bug fixes ==
 * Cleanup HTML and CSS for W3C XHTML 1.1 compliance
 * Fixed bug in matches lists.
 In case a match is deleted, the match is still in the database, but its scores are deleted.
 So when displaying matches lists or number of matches, we need to exclude matches with no scores.

= Release 0.4.127 =
== Features ==
 * Added Avatars support for event's players standing. (Fixes issue 39)
 Site admin can choose:
   * the max size of avatars.
   * the pages where avatars will be enabled (for now only players standings)
   * default avatar, for users with no avatar.
 Added 3 default avatars.
== Bug fixes ==
 * SQL query fails for servers where decimal format is using decimal comma instead of decimal point (Europe). (Fixes issue 47)
 Added the new floatToSQL() function which formats floats before they are sent to SQL.
 * Fixed problem in matchs lists display. "defeated" or "tied" is now based on the rank of current player.
 * Fix bug in plugin upgrade.
 Now accumulate tables/prefs upgrades based on revision, instead of just taking last tables/prefs upgrades.
 * Some servers can block fopen() access to remote URLs.
 Error: "Failed to open stream: Permission Denied".
 This causes getimagesize() and thus imageResize() to return nothing.
 Work-around: in that case, imageResize() will return width=target_width.
 * Fixed height issue in "eBattles" and "Dark" tabs CSS themes
 * Fixed up/down arrow selector to sort Events list, which was not working in Internet Explorer.


= Release 0.4.123 =
== Features ==
 * New pagination system.(Fixes issue 46)
   * "Digg" style pagination
   * This class provides pagination, with drop-downs selectors for "Go to page" and "Items per page"
   * Used paginator class from http://www.catchmyfame.com/2007/07/28/finally-the-simple-pagination-class
   * Added plugin preference setting for the number of items per pages used for pagination.
 * Events list sorting

= Release 0.4.119 =
== Features ==
 * Fixed tabs default theme "height" issue.
The tab height was different for different e107 themes or on some different browsers.
== Bug fixes ==
 * The plugin installation was failing starting from revision 98. (Fixes issue 45)

= Release 0.4.116 =
== Features ==
 * "Team/Division delete" support (Fixes issue 32)
Added support to delete divisions/teams from team manage page.
Division/Team can only be deleted if there are no players who have already played in the division/team.
 * Added "Quit Division" button for members of a division in a team. (Fixes issue 44)
 * Changed plugin menus header to show info about the event or team (Fixes issue 35)
Also removed html tags `<h1`> and `<h2`> as they might appear to big for some themes.  
 * Added option for eBattles admin to resize all games images if they exceed the maximum size allowed. (Fixes issue 42)
 * Added confirmation dialog when user quits/deletes an event or a team.
== Bug fixes ==
 * eBattles moderators could not manage teams.
 * Can not reset team password when it has been set. (Fixes issue 40)

= Release 0.4.106 =
== Features ==
 * Userclass for match report (Fixes issue 36)
 Now event owner can choose who is allowed to report matches in the event.
 "Match Report userclass" 
  * Owner: Owner only can report matches
  * Moderator: Owner & Moderators can report matches
  * Player: Owner, Mods & Players can report matches
 * Quick Loss report enable/disable
 Now event owner can choose to enable or disable quick loss report in the event.
 * Change Event owner in Event Manage
 Now event owner can be changed from Event Manage page.

= Release 0.4.101 =
== Features ==
 * Players can now "quit" events if they have not played yet. (Fixes issue 31)
 * Tabs themes:
  * Changed default tabs theme to remove background so it can work with any theme
  * Added eBattles tabs theme
 * Added "Team password" support (Fixes issue 30)
 The team password is used when user tries to join a division of that team.
 * Added "Hide Ratings column" checkbox in Event manager. (Fixes issue 37)
 This is used to hide/unhide the ratings column in events standings.
 It can be useful if only one scoring category is used.
 * Added a link back to the event in eventmatchs.php
== Upgrade Notes ==
 * This release has changes in database.
 * The plugin settings will be reset when upgrading.

= Release 0.3.92 =
== Features ==
 * Add plugin preferences settings for tab theme. (Fixes issue 34)
 The site admin can now choose the tabs theme between a choice of pre-defined themes.
  * default (ebattles light color default)
  * dark
  * webfx
  * luna
  * windows classic

= Release 0.3.91 =
== Features ==
 * Add plugin preferences settings for Events/Teams creators userclasses (Fixes issue 33)
 The site admin can now decide which class of users are allowed to create teams/events